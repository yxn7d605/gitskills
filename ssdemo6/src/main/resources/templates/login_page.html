<!DOCTYPE html>
<html id="ng-app" ng-app="app"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <link rel="stylesheet" href="/css/login.css" type="text/css">
    <script src="https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<form class="login-page" action="/login" method="post">
    <div class="form">
        <h3>账户登录</h3>
        <input type="text" placeholder="用户名" name="username" required="required"/>
        <input type="password" placeholder="密码" name="password" required="required"/>
        <button type="button" onclick="javascript:login();">登录</button>
<!--        <div><a  href="javascript:login();" >登录</a></div>-->
    </div>
</form>

<script>
    let login=()=>{
        let username = $("input[name = 'username']");
        let password = $("input[name = 'password']");
        $.ajax({
            type: "POST",
            url: "/login",
            data: {
                "username": username.val(),
                "password": password.val(),
            },
            success: function(result) {
                if(result.code === '000000'){
                    window.location.href = "/index";
                } else {
                    alert(result.message);
                }
            },
            error: function(result) {
                alert(result.code + " : " + result.message);
            }
        });
    };
</script>
</body>
</html>